---
layout: post
title:  "观察者模式"
date:   2015-05-31 22:19:16 +0800
categories: 设计模式
---
还记得Windows系统右键菜单中的“刷新”吗？通过FPT传输一个文件至某个目录后，还需要手动刷新一下文件窗口才能看到文件，而在Linux系统中确不存在这样的问题。在解答之前，我们先来看看《观察者模式》

观察者模式：定义了一种一对多的依赖关系，让多个观察者对象同时监听某一个主题对象。这个主题对象在状态发生变化时，会通知所有观察者对象，使它们能够自动更新自己。
模式中涉及的角色（对象类型）：
主题（Subject）：它把所有观察者对象的引用保存到一个聚集里，每个主题都可以有任何数量的观察者。主题提供一个接口，可以增加和删除观察者对象。具体主题实现在内部状态改变时，给所有登记过的观察者发出通知，将有关状态推送给观察者，或通知观察者自己来拉取自己需要的信息。
观察者（Observer）：为所有的观察者定义一个接口，在得到主题通知时更新自己。
