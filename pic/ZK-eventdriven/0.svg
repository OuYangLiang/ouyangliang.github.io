<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 1080 600" width="90pc" height="50pc" xmlns:dc="http://purl.org/dc/elements/1.1/"><metadata> Produced by OmniGraffle 6.6 <dc:date>2017-08-17 12:47:25 +0000</dc:date></metadata><defs><font-face font-family="Helvetica Neue" font-size="16" panose-1="2 0 5 3 0 0 0 2 0 4" units-per-em="1000" underline-position="-100" underline-thickness="50" slope="0" x-height="517" cap-height="714" ascent="951.99585" descent="-212.99744" font-weight="500"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><filter id="Shadow" filterUnits="userSpaceOnUse"><feGaussianBlur in="SourceAlpha" result="blur" stdDeviation="2.2616883"/><feOffset in="blur" result="offset" dx="0" dy="2"/><feFlood flood-color="#ccc" result="flood"/><feComposite in="flood" in2="offset" operator="in" result="color"/><feMerge><feMergeNode in="color"/><feMergeNode in="SourceGraphic"/></feMerge></filter><font-face font-family="Helvetica" font-size="12" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="532.22656" cap-height="719.72656" ascent="770.01953" descent="-229.98047" font-weight="bold"><font-face-src><font-face-name name="Helvetica-Bold"/></font-face-src></font-face><font-face font-family="PingFang SC" font-size="12" panose-1="2 11 8 0 0 0 0 0 0 0" units-per-em="1000" underline-position="-150" underline-thickness="80" slope="0" x-height="600" cap-height="860" ascent="1060.00215" descent="-340.00069" font-weight="bold"><font-face-src><font-face-name name="PingFangSC-Semibold"/></font-face-src></font-face><font-face font-family="PingFang SC" font-size="16" panose-1="2 11 4 0 0 0 0 0 0 0" units-per-em="1000" underline-position="-150" underline-thickness="58" slope="0" x-height="600" cap-height="860" ascent="1060.00215" descent="-340.00069" font-weight="500"><font-face-src><font-face-name name="PingFangSC-Regular"/></font-face-src></font-face><font-face font-family="Helvetica Neue" font-size="10" panose-1="2 0 5 3 0 0 0 2 0 4" units-per-em="1000" underline-position="-100" underline-thickness="50" slope="0" x-height="517" cap-height="714" ascent="951.99585" descent="-212.99744" font-weight="500"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face font-family="Helvetica" font-size="15" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="522.94922" cap-height="717.28516" ascent="770.01953" descent="-229.98047" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><font-face font-family="PingFang SC" font-size="15" panose-1="2 11 4 0 0 0 0 0 0 0" units-per-em="1000" underline-position="-150" underline-thickness="58" slope="0" x-height="600" cap-height="860" ascent="1060.00215" descent="-340.00069" font-weight="500"><font-face-src><font-face-name name="PingFangSC-Regular"/></font-face-src></font-face></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>0</title><rect fill="white" width="1080" height="600"/><g><title>Layer 1</title><path d="M 758.74015 209.76378 L 758.74015 153.63779 L 770.74015 147.40157 L 878.74015 147.40157 L 878.74015 203.52756 L 866.74015 209.76378 Z" fill="#8c8073"/><path d="M 758.74015 209.76378 L 758.74015 153.63779 L 770.74015 147.40157 L 878.74015 147.40157 L 878.74015 203.52756 L 866.74015 209.76378 L 758.74015 209.76378 M 758.74015 153.63779 L 866.74015 153.63779 L 878.74015 147.40157 M 866.74015 153.63779 L 866.74015 209.76378" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(763.74015 172.47679)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="24.4" y="15" textLength="49.2">master</tspan></text><path d="M 602.83464 345.82677 L 602.83464 289.70079 L 614.83464 283.46457 L 722.83464 283.46457 L 722.83464 339.59055 L 710.83464 345.82677 Z" fill="#eee"/><path d="M 602.83464 345.82677 L 602.83464 289.70079 L 614.83464 283.46457 L 722.83464 283.46457 L 722.83464 339.59055 L 710.83464 345.82677 L 602.83464 345.82677 M 602.83464 289.70079 L 710.83464 289.70079 L 722.83464 283.46457 M 710.83464 289.70079 L 710.83464 345.82677" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(607.83464 308.53978)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="24.568" y="15" textLength="48.864">worker</tspan></text><path d="M 758.83464 345.82677 L 758.83464 289.70079 L 770.83464 283.46457 L 878.83464 283.46457 L 878.83464 339.59055 L 866.83464 345.82677 Z" fill="#eee"/><path d="M 758.83464 345.82677 L 758.83464 289.70079 L 770.83464 283.46457 L 878.83464 283.46457 L 878.83464 339.59055 L 866.83464 345.82677 L 758.83464 345.82677 M 758.83464 289.70079 L 866.83464 289.70079 L 878.83464 283.46457 M 866.83464 289.70079 L 866.83464 345.82677" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(763.83464 308.53978)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="24.568" y="15" textLength="48.864">worker</tspan></text><path d="M 914.83464 345.82677 L 914.83464 289.70079 L 926.83464 283.46457 L 1034.83464 283.46457 L 1034.83464 339.59055 L 1022.83464 345.82677 Z" fill="#eee"/><path d="M 914.83464 345.82677 L 914.83464 289.70079 L 926.83464 283.46457 L 1034.83464 283.46457 L 1034.83464 339.59055 L 1022.83464 345.82677 L 914.83464 345.82677 M 914.83464 289.70079 L 1022.83464 289.70079 L 1034.83464 283.46457 M 1022.83464 289.70079 L 1022.83464 345.82677" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(919.83464 308.53978)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="24.568" y="15" textLength="48.864">worker</tspan></text><path d="M 818.75887 209.76378 L 818.7874 246.61417 L 818.8159 283.46457" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 818.74015 209.76378 L 818.74015 246.61417 L 740.7874 246.61417 L 662.83464 246.61417 L 662.83464 283.46457" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 818.74015 209.76378 L 818.74015 246.61417 L 896.7874 246.61417 L 974.83464 246.61417 L 974.83464 283.46457" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><g filter="url(#Shadow)"><path d="M 634.2897 42.57601 L 808.54167 42.518964 C 811.3031 42.51806 813.5424 44.755903 813.5433 47.517327 C 813.5433 47.517872 813.5433 47.518418 813.5433 47.518964 L 813.5433 118.83051 C 813.5433 121.59192 811.30475 123.83049 808.54334 123.83051 L 779.06065 123.83071 C 776.29924 123.83073 774.0607 126.0693 774.0607 128.83071 L 774.0607 129.63878 C 774.0607 131.729346 772.36594 133.42409 770.27538 133.42409 C 769.7491 133.42409 769.22857 133.31434 768.7471 133.10185 L 748.7077 124.258245 C 748.06887 123.97631 747.37805 123.83132 746.67976 123.832614 L 634.30058 124.04037 C 631.53916 124.04547 629.29645 121.81104 629.29134 119.04962 C 629.29134 119.04654 629.29133 119.043456 629.29133 119.040375 L 629.29133 47.57601 C 629.29133 44.815226 631.5289 42.576915 634.2897 42.57601 Z" fill="#b5e8ff"/><path d="M 634.2897 42.57601 L 808.54167 42.518964 C 811.3031 42.51806 813.5424 44.755903 813.5433 47.517327 C 813.5433 47.517872 813.5433 47.518418 813.5433 47.518964 L 813.5433 118.83051 C 813.5433 121.59192 811.30475 123.83049 808.54334 123.83051 L 779.06065 123.83071 C 776.29924 123.83073 774.0607 126.0693 774.0607 128.83071 L 774.0607 129.63878 C 774.0607 131.729346 772.36594 133.42409 770.27538 133.42409 C 769.7491 133.42409 769.22857 133.31434 768.7471 133.10185 L 748.7077 124.258245 C 748.06887 123.97631 747.37805 123.83132 746.67976 123.832614 L 634.30058 124.04037 C 631.53916 124.04547 629.29645 121.81104 629.29134 119.04962 C 629.29134 119.04654 629.29133 119.043456 629.29133 119.040375 L 629.29133 47.57601 C 629.29133 44.815226 631.5289 42.576915 634.2897 42.57601 Z" stroke="#6cc7ff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><text transform="translate(634.29133 47.519685)" fill="#06c"><tspan font-family="Helvetica" font-size="12" font-weight="bold" fill="#06c" x="0" y="13" textLength="39.357422">master</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="39.357422" y="13" textLength="24">监控</tspan><tspan font-family="Helvetica" font-size="12" font-weight="bold" fill="#06c" x="63.35742" y="13" textLength="43.347656">request</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="106.70508" y="13" textLength="12">与</tspan><tspan font-family="Helvetica" font-size="12" font-weight="bold" fill="#06c" x="118.70508" y="13" textLength="46.02539">workers</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="0" y="31.5" textLength="168">节点。对请求分组进行分配，同</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="0" y="50" textLength="170.94">时在worker上下线时重新分配，</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="0" y="68.5" textLength="60">负载均衡。</tspan><tspan font-family="Helvetica" font-size="12" font-weight="bold" fill="#06c" x="0" y="85" textLength="3.3339844"> </tspan></text></g><path d="M 942.9921 209.76378 L 942.9921 153.63779 L 954.9921 147.40157 L 1062.9921 147.40157 L 1062.9921 203.52756 L 1050.9921 209.76378 Z" fill="#8c8073"/><path d="M 942.9921 209.76378 L 942.9921 153.63779 L 954.9921 147.40157 L 1062.9921 147.40157 L 1062.9921 203.52756 L 1050.9921 209.76378 L 942.9921 209.76378 M 942.9921 153.63779 L 1050.9921 153.63779 L 1062.9921 147.40157 M 1050.9921 153.63779 L 1050.9921 209.76378" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke-dasharray="4,4"/><text transform="translate(947.9921 170.70079)" fill="black"><tspan font-family="Helvetica Neue" font-size="16" font-weight="500" x="11.072" y="17" textLength="49.2">master</tspan><tspan font-family="PingFang SC" font-size="16" font-weight="500" x="60.272" y="17" textLength="26.656">(备)</tspan></text><g filter="url(#Shadow)"><path d="M 492.55704 178.63863 L 632.79326 178.58233 C 635.5547 178.58122 637.79416 180.81889 637.79527 183.58032 C 637.79527 183.58099 637.79527 183.58166 637.79527 183.58233 L 637.79527 254.89351 C 637.79527 257.65492 635.55672 259.89349 632.7953 259.89351 L 610.6017 259.8937 C 607.8403 259.89372 605.60175 262.13229 605.60175 264.8937 L 605.60175 265.70177 C 605.60175 267.61304 604.05236 269.16243 602.1411 269.16243 C 601.5659 269.16243 600.99974 269.01904 600.49387 268.74525 L 585.25826 260.49926 C 584.524 260.10185 583.7019 259.89464 582.867 259.89653 L 492.5704 260.10126 C 489.80897 260.10752 487.56533 257.87402 487.55907 255.1126 C 487.55906 255.10883 487.55905 255.10505 487.55905 255.10127 L 487.55905 183.63863 C 487.55905 180.87799 489.7964 178.63974 492.55704 178.63863 Z" fill="#b5e8ff"/><path d="M 492.55704 178.63863 L 632.79326 178.58233 C 635.5547 178.58122 637.79416 180.81889 637.79527 183.58032 C 637.79527 183.58099 637.79527 183.58166 637.79527 183.58233 L 637.79527 254.89351 C 637.79527 257.65492 635.55672 259.89349 632.7953 259.89351 L 610.6017 259.8937 C 607.8403 259.89372 605.60175 262.13229 605.60175 264.8937 L 605.60175 265.70177 C 605.60175 267.61304 604.05236 269.16243 602.1411 269.16243 C 601.5659 269.16243 600.99974 269.01904 600.49387 268.74525 L 585.25826 260.49926 C 584.524 260.10185 583.7019 259.89464 582.867 259.89653 L 492.5704 260.10126 C 489.80897 260.10752 487.56533 257.87402 487.55907 255.1126 C 487.55906 255.10883 487.55905 255.10505 487.55905 255.10127 L 487.55905 183.63863 C 487.55905 180.87799 489.7964 178.63974 492.55704 178.63863 Z" stroke="#6cc7ff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><text transform="translate(492.55905 183.58268)" fill="#06c"><tspan font-family="Helvetica" font-size="12" font-weight="bold" fill="#06c" x="0" y="13" textLength="39.351562">worker</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="39.351562" y="13" textLength="72">的作用是监控</tspan><tspan font-family="Helvetica" font-size="12" font-weight="bold" fill="#06c" x="0" y="31.5" textLength="43.347656">request</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="43.347656" y="31.5" textLength="87.408">节点下由master</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="0" y="50" textLength="132">分配给自己的的事件，执</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="0" y="68.5" textLength="48">行任务。</tspan></text></g><path d="M 878.74015 178.58268 L 910.86614 178.58268 L 942.9921 178.58268" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="158.74016" y="45.35433" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="158.74016" y="45.35433" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(163.74016 47.718268)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="12.223425" y="10" textLength="30.75">master</tspan></text><rect x="82.204724" y="17.007874" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="82.204724" y="17.007874" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(87.204724 19.371811)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="18.708425" y="10" textLength="3.33">r</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="21.858425" y="10" textLength="14.63">oot</tspan></text><path d="M 114.80315 34.015748 L 114.80315 41.015748 L 114.80315 53.858267 L 158.74016 53.858267 L 151.74016 53.858267 L 158.74016 53.858267" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="158.74016" y="73.700787" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="158.74016" y="73.700787" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(163.74016 76.064725)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="9.828425" y="10" textLength="35.54">workers</tspan></text><path d="M 114.80315 82.204724 L 158.74016 82.204724 L 151.74016 82.204724 L 158.74016 82.204724" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="238.11023" y="102.047243" width="79.37008" height="17.007874" fill="#5b87f2"/><rect x="238.11023" y="102.047243" width="79.37008" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(243.11023 104.41118)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="2.7150391" y="10" textLength="63.94">10.40.190.144</tspan></text><path d="M 191.33858 90.70866 L 191.33858 97.70866 L 191.33858 110.55118 L 238.11023 110.55118 L 231.11023 110.55118 L 238.11023 110.55118" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="238.11023" y="127.559054" width="79.37008" height="17.007874" fill="#5b87f2"/><rect x="238.11023" y="127.559054" width="79.37008" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(243.11023 129.92299)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="2.7150391" y="10" textLength="63.94">10.40.190.154</tspan></text><rect x="238.11023" y="153.070865" width="79.37008" height="17.007874" fill="#5b87f2"/><rect x="238.11023" y="153.070865" width="79.37008" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(243.11023 155.4348)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="2.7150391" y="10" textLength="63.94">10.40.190.154</tspan></text><path d="M 191.33858 90.70866 L 191.33858 136.06299 L 238.11023 136.06299 L 231.11023 136.06299 L 238.11023 136.06299" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 191.33858 90.70866 L 191.33858 161.5748 L 238.11023 161.5748 L 231.11023 161.5748 L 238.11023 161.5748" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="158.74016" y="178.58268" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="158.74016" y="178.58268" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(163.74016 180.94661)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="10.833425" y="10" textLength="3.33">r</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="13.983425" y="10" textLength="30.38">equest</tspan></text><path d="M 114.80315 34.015748 L 114.80315 41.015748 L 114.80315 187.08661 L 119.05512 187.08661 L 151.74016 187.08661 L 158.74016 187.08661" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="238.11023" y="206.92913" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="238.11023" y="206.92913" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(243.11023 209.29307)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="10.368425" y="10" textLength="9.07">gr</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="19.258425" y="10" textLength="25.57">oup 1</tspan></text><rect x="235.27559" y="354.3307" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="235.27559" y="354.3307" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(240.27559 356.69464)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="10.368425" y="10" textLength="9.07">gr</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="19.258425" y="10" textLength="25.57">oup 3</tspan></text><rect x="235.27559" y="280.62992" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="235.27559" y="280.62992" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(240.27559 282.99386)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="10.368425" y="10" textLength="9.07">gr</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="19.258425" y="10" textLength="25.57">oup 2</tspan></text><rect x="235.27559" y="379.84252" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="235.27559" y="379.84252" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(240.27559 382.20646)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="10.368425" y="10" textLength="9.07">gr</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="19.258425" y="10" textLength="25.57">oup 4</tspan></text><rect x="320.31496" y="232.44094" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="320.31496" y="232.44094" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(325.31496 234.80488)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="12.593425" y="10" textLength="30.01">event1</tspan></text><rect x="320.31496" y="257.95275" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="320.31496" y="257.95275" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(325.31496 260.31669)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="12.593425" y="10" textLength="30.01">event2</tspan></text><path d="M 191.33858 215.43307 L 238.11023 215.43307 L 231.11023 215.43307 L 238.11023 215.43307" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 270.70866 240.94488 L 320.31496 240.94488 L 313.31496 240.94488 L 320.31496 240.94488" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 270.70866 223.937 L 270.70866 230.937 L 270.70866 266.45669 L 272.12598 266.45669 L 313.31496 266.45669 L 320.31496 266.45669" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="320.31496" y="306.14173" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="320.31496" y="306.14173" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(325.31496 308.50567)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="12.593425" y="10" textLength="30.01">event1</tspan></text><rect x="320.31496" y="331.65354" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="320.31496" y="331.65354" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(325.31496 334.01748)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="12.593425" y="10" textLength="30.01">event2</tspan></text><path d="M 267.87401 314.64567 L 320.31496 314.64567 L 313.31496 314.64567 L 320.31496 314.64567" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 267.87401 297.6378 L 267.87401 304.6378 L 267.87401 340.15748 L 272.12598 340.15748 L 313.31496 340.15748 L 320.31496 340.15748" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 191.33858 289.13386 L 201.25984 289.13386 L 228.27559 289.13386 L 235.27559 289.13386" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 191.33858 362.83464 L 192.7559 362.83464 L 228.27559 362.83464 L 235.27559 362.83464" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 191.33858 195.59055 L 191.33858 202.59055 L 191.33858 388.34645 L 192.7559 388.34645 L 228.27559 388.34645 L 235.27559 388.34645" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><g filter="url(#Shadow)"><path d="M 423.2511 34.058775 L 539.2501 34.015748 C 542.01153 34.014724 544.25094 36.25247 544.25196 39.013893 C 544.25197 39.014511 544.25197 39.01513 544.25197 39.015748 L 544.25197 92.148204 C 544.25197 94.85655 542.09558 97.07253 539.38824 97.146346 L 464.7155 99.182354 C 463.98556 99.202256 463.26884 99.3818 462.61572 99.70836 L 438.733 111.649715 C 437.39225 112.32009 435.7619 111.776644 435.09154 110.43589 C 434.65595 109.564715 434.72056 108.52693 435.26084 107.71651 L 436.26114 106.21605 C 437.7929 103.918405 437.17204 100.81406 434.8744 99.282296 C 434.17912 98.818783 433.37877 98.53691 432.5465 98.46244 L 422.80737 97.591034 C 420.22893 97.36033 418.25297 95.199673 418.25297 92.61093 L 418.25297 39.058774 C 418.25297 36.298075 420.4904 34.059799 423.2511 34.058775 Z" fill="#b5e8ff"/><path d="M 423.2511 34.058775 L 539.2501 34.015748 C 542.01153 34.014724 544.25094 36.25247 544.25196 39.013893 C 544.25197 39.014511 544.25197 39.01513 544.25197 39.015748 L 544.25197 92.148204 C 544.25197 94.85655 542.09558 97.07253 539.38824 97.146346 L 464.7155 99.182354 C 463.98556 99.202256 463.26884 99.3818 462.61572 99.70836 L 438.733 111.649715 C 437.39225 112.32009 435.7619 111.776644 435.09154 110.43589 C 434.65595 109.564715 434.72056 108.52693 435.26084 107.71651 L 436.26114 106.21605 C 437.7929 103.918405 437.17204 100.81406 434.8744 99.282296 C 434.17912 98.818783 433.37877 98.53691 432.5465 98.46244 L 422.80737 97.591034 C 420.22893 97.36033 418.25297 95.199673 418.25297 92.61093 L 418.25297 39.058774 C 418.25297 36.298075 420.4904 34.059799 423.2511 34.058775 Z" stroke="#6cc7ff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/><text transform="translate(423.25297 39.015748)" fill="#06c"><tspan font-family="Helvetica" font-size="12" font-weight="bold" fill="#06c" x="0" y="13" textLength="39.351562">worker</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="39.351562" y="13" textLength="72">节点的内容，</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="0" y="31.5" textLength="108">即为它们需要监听和</tspan><tspan font-family="PingFang SC" font-size="12" font-weight="bold" fill="#06c" x="0" y="50" textLength="84">处理的请求分组</tspan><tspan font-family="Helvetica" font-size="12" font-weight="bold" fill="#06c" x="0" y="66.5" textLength="3.3339844"> </tspan></text></g><path d="M 364.3307 136.06299 L 423.70078 136.06299 C 429.22363 136.06299 433.70078 140.54014 433.70078 146.06299 L 433.70078 148.74016 C 433.70078 154.263 429.22363 158.74016 423.70078 158.74016 L 364.3307 158.74016 C 358.80786 158.74016 354.3307 154.263 354.3307 148.74016 L 354.3307 146.06299 C 354.3307 140.54014 358.80786 136.06299 364.3307 136.06299 Z" fill="black" fill-opacity=".25"/><path d="M 364.3307 136.06299 L 423.70078 136.06299 C 429.22363 136.06299 433.70078 140.54014 433.70078 146.06299 L 433.70078 148.74016 C 433.70078 154.263 429.22363 158.74016 423.70078 158.74016 L 364.3307 158.74016 C 358.80786 158.74016 354.3307 154.263 354.3307 148.74016 L 354.3307 146.06299 C 354.3307 140.54014 358.80786 136.06299 364.3307 136.06299 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(359.3307 141.261575)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="0" y="10" textLength="9.07">gr</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="8.89" y="10" textLength="22.79">oup3</tspan></text><path d="M 364.3307 161.5748 L 423.70078 161.5748 C 429.22363 161.5748 433.70078 166.05195 433.70078 171.5748 L 433.70078 174.25197 C 433.70078 179.77481 429.22363 184.25197 423.70078 184.25197 L 364.3307 184.25197 C 358.80786 184.25197 354.3307 179.77481 354.3307 174.25197 L 354.3307 171.5748 C 354.3307 166.05195 358.80786 161.5748 364.3307 161.5748 Z" fill="black" fill-opacity=".25"/><path d="M 364.3307 161.5748 L 423.70078 161.5748 C 429.22363 161.5748 433.70078 166.05195 433.70078 171.5748 L 433.70078 174.25197 C 433.70078 179.77481 429.22363 184.25197 423.70078 184.25197 L 364.3307 184.25197 C 358.80786 184.25197 354.3307 179.77481 354.3307 174.25197 L 354.3307 171.5748 C 354.3307 166.05195 358.80786 161.5748 364.3307 161.5748 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(359.3307 166.77339)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="0" y="10" textLength="9.07">gr</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="8.89" y="10" textLength="22.79">oup4</tspan></text><line x1="317.48031" y1="136.06299" x2="354.3307" y2="147.40157" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><line x1="317.48031" y1="161.5748" x2="354.3307" y2="172.91338" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><rect x="320.31496" y="402.51968" width="65.19685" height="17.007874" fill="#5b87f2"/><rect x="320.31496" y="402.51968" width="65.19685" height="17.007874" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(325.31496 404.88362)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="12.593425" y="10" textLength="30.01">event1</tspan></text><path d="M 267.87401 396.8504 L 267.87401 403.8504 L 267.87401 411.02362 L 320.31496 411.02362 L 313.31496 411.02362 L 320.31496 411.02362" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><path d="M 364.3307 110.55118 L 423.70078 110.55118 C 429.22363 110.55118 433.70078 115.02833 433.70078 120.55118 L 433.70078 123.228346 C 433.70078 128.75119 429.22363 133.228346 423.70078 133.228346 L 364.3307 133.228346 C 358.80786 133.228346 354.3307 128.75119 354.3307 123.228346 L 354.3307 120.55118 C 354.3307 115.02833 358.80786 110.55118 364.3307 110.55118 Z" fill="black" fill-opacity=".25"/><path d="M 364.3307 110.55118 L 423.70078 110.55118 C 429.22363 110.55118 433.70078 115.02833 433.70078 120.55118 L 433.70078 123.228346 C 433.70078 128.75119 429.22363 133.228346 423.70078 133.228346 L 364.3307 133.228346 C 358.80786 133.228346 354.3307 128.75119 354.3307 123.228346 L 354.3307 120.55118 C 354.3307 115.02833 358.80786 110.55118 364.3307 110.55118 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(359.3307 115.749764)" fill="black"><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="0" y="10" textLength="9.07">gr</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="8.89" y="10" textLength="34.64">oup1:gr</tspan><tspan font-family="Helvetica Neue" font-size="10" font-weight="500" x="43.35" y="10" textLength="22.79">oup2</tspan></text><line x1="317.48031" y1="110.55118" x2="354.3307" y2="121.88976" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(19.84252 425.19685)" fill="black"><tspan font-family="Helvetica" font-size="15" font-weight="500" x="0" y="16" textLength="45.842285">Master</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="45.842285" y="16" textLength="45">角色：</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="37" textLength="90">一、成功创建</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="90" y="37" textLength="50.009766">/master</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="140.009766" y="37" textLength="135">节点的服务器，成为</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="275.00977" y="37" textLength="45.842285">master</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="320.85205" y="37" textLength="45">角色。</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="58" textLength="120">二、其它服务器在</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="120" y="58" textLength="50.009766">/master</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="170.00977" y="58" textLength="180">节点设置监视点，成为备用</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="350.00977" y="58" textLength="45.842285">master</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="395.85205" y="58" textLength="15">。</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="79" textLength="30">三、</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="30" y="79" textLength="45.842285">master</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="75.842285" y="79" textLength="90">服务器，监控</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="165.84229" y="79" textLength="45.007324">worker</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="210.84961" y="79" textLength="150">服务上的上线与下线。</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="100" textLength="45">四、当</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="45" y="100" textLength="45.007324">worker</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="90.007324" y="100" textLength="320.64">故障下线、或有新的worker上线时，Master更新</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="121" textLength="402.195">      workers节点下各个worker节点的内容，重新分配任务。</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="142" textLength="60">五、监控</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="60" y="142" textLength="50.031738">request</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="110.03174" y="142" textLength="105">节点，感知新的</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="215.03174" y="142" textLength="38.364258">group</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="253.396" y="142" textLength="75">请求，并对</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="328.396" y="142" textLength="38.364258">group</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="366.76025" y="142" textLength="75">进行分配。</tspan></text><text transform="translate(496.063 408.18897)" fill="black"><tspan font-family="Helvetica" font-size="15" font-weight="500" x="0" y="16" textLength="48.33252">Worker</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="48.33252" y="16" textLength="45">角色：</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="37" textLength="90">一、上线时在</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="90" y="37" textLength="52.507324">workers</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="142.50732" y="37" textLength="315">节点下创建一个临时节点，表示自己活跃状态。</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="58" textLength="180">二、同时监听该节点，获取</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="180" y="58" textLength="45.842285">master</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="225.84229" y="58" textLength="165">分配给自己的分组任务。</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="79" textLength="225">三、当节点内容发生变化时，表示</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="225" y="79" textLength="45.842285">master</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="270.84229" y="79" textLength="165">给自己分配了新的分组。</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="0" y="100" textLength="29.172363">       </tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="29.172363" y="100" textLength="60">这时当前</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="89.172363" y="100" textLength="45.007324">worker</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="134.17969" y="100" textLength="105">需要监听和处理</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="239.17969" y="100" textLength="50.031738">request</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="289.21143" y="100" textLength="135">下对应分组的事件。</tspan></text><text transform="translate(496.063 527.2441)" fill="black"><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="16" textLength="90">客户端角色：</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="37" textLength="60">一、判断</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="60" y="37" textLength="50.031738">request</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="110.03174" y="37" textLength="360">下分组节点是否存在，若不存在，则先创建分组节点。</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="0" y="58" textLength="120">二、将事件提交到</tspan><tspan font-family="Helvetica" font-size="15" font-weight="500" x="120" y="58" textLength="50.031738">request</tspan><tspan font-family="PingFang SC" font-size="15" font-weight="500" x="170.03174" y="58" textLength="135">下对应的分组下面。</tspan></text></g></g></svg>
